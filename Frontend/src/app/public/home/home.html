<div class="dashboard-container">

  <!-- Header -->
  <header class="dashboard-header">
    <h1>All Flats</h1>
    <div class="header-actions">
      <button class="amenities-btn" routerLink="/public/amenities">View Amenities</button>
      <button class="logout-btn" (click)="onLogout()">Logout</button>
    </div>
  </header>

  <!-- Flats Grid -->
  <div class="flats-grid" *ngIf="flats && flats.length > 0; else noFlats">

    <div class="flat-card" *ngFor="let f of flats" (click)="viewFlatDetails(f.id)" style="cursor: pointer;">

      <div class="flat-header">
        <h3>Flat #{{ f.flat_no }}</h3>
        <span
          class="availability"
          [class.available]="f.is_available"
          [class.unavailable]="!f.is_available">
          {{ f.is_available ? 'Available' : 'Unavailable' }}
        </span>
      </div>

      <div class="flat-details">
        <p><strong>{{ f.bedrooms }}</strong> Bedrooms</p>
        <p><strong>{{ f.sqft }}</strong> sqft</p>
        <p class="rent">
          â‚¹{{ f.rent | number:'1.0-0' }}
          <span>/ month</span>
        </p>
      </div>

      <button
        class="book-btn"
        (click)="book(f.id)"
        [disabled]="!f.is_available">
        {{ f.is_available ? 'Book Now' : 'Unavailable' }}
      </button>

    </div>

  </div>

  <!-- Empty State -->
  <ng-template #noFlats>
    <div class="empty-state">
      <p>No flats found at the moment.</p>
    </div>
  </ng-template>

</div>
